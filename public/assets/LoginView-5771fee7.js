import{_ as z}from"./Button-d43c7df3.js";import{_ as S,r as n,a as C,o as h,c as x,f as e,k as _,v as w,l,m as b,q as g,g as v,e as f,s as B,h as I,x as y,p as N,j as T,y as E,z as L}from"./index-e6eb8d31.js";const i=r=>(N("data-v-a4273c64"),r=r(),T(),r),F=i(()=>e("h1",null,"歡迎回來～",-1)),M=i(()=>e("p",{class:"sub-title"},"立即登入並預訂並進入冒險者的旅程吧！",-1)),P={class:"userPassword"},U={class:"input-box"},j={class:"emailpassword-box"},q=i(()=>e("p",null,"電子信箱",-1)),D={style:{color:"red","font-size":"10px"},"font-size":"2px"},R={class:"input-box"},A={class:"emailpassword-box"},G=i(()=>e("p",null,"密碼",-1)),H={style:{color:"red","font-size":"10px"},"font-size":"2px"},J={class:"btn-box"},K={key:0,class:"loading-screen"},O=i(()=>e("p",null,"登入中...",-1)),Q=[O],W={__name:"LoginView",setup(r){let t=n(""),s=n("");const p=n(!1),d=n(!1),u=n(!1);async function k(){try{p.value=!1,d.value=!1,t.value||(p.value=!0),s.value||(d.value=!0),t.value&&s.value&&(u.value=!0,await E.post("api/v1/auth/login",{email:t.value,password:s.value}),await new Promise(o=>setTimeout(o,3e3)),u.value=!1,L.push("/user/userTicket"))}catch(o){if(u.value=!1,o.response&&o.response.status===401){s.value="",alert("錯誤帳號/密碼");return}return}}return(o,c)=>{const m=z,V=C("router-link");return h(),x("form",null,[e("main",null,[F,M,e("div",P,[e("div",U,[e("div",j,[q,_(e("p",D," 請輸入電子信箱 ",512),[[w,l(p)]])]),_(e("input",{"onUpdate:modelValue":c[0]||(c[0]=a=>g(t)?t.value=a:t=a),autocomplete:"username",type:"text"},null,512),[[b,l(t)]])]),e("div",R,[e("div",A,[G,_(e("p",H," 請輸入密碼 ",512),[[w,l(d)]])]),_(e("input",{"onUpdate:modelValue":c[1]||(c[1]=a=>g(s)?s.value=a:s=a),type:"password",autocomplete:"current-password"},null,512),[[b,l(s)]])])]),e("div",J,[v(V,{to:"/register"},{default:f(()=>[v(m,{btnFontSize:"10px"},{default:f(()=>[y("註冊")]),_:1})]),_:1}),v(m,{onClick:B(k,["prevent"]),btnFontSize:"10px"},{default:f(()=>[y("登入")]),_:1},8,["onClick"])]),l(u)?(h(),x("div",K,Q)):I("",!0)])])}}},Z=S(W,[["__scopeId","data-v-a4273c64"]]);export{Z as default};
