import{_ as u,r as k,I as C,u as $,A as x,o as c,c as a,f as n,s as i,l as S,y as w,p as F,j as H,a as I,g as f,F as M}from"./index-e6eb8d31.js";import{_ as R,H as B}from"./Header-31933a96.js";const p=o=>(F("data-v-5c86e805"),o=o(),H(),o),N={class:"header-container"},P=p(()=>n("img",{src:R,class:"logo"},null,-1)),b=["onClick"],E=p(()=>n("h1",null,"夢幻尼樂園",-1)),Q=["onClick"],V=["onClick"],j=p(()=>n("nav",null,null,-1)),A={__name:"HeaderCMS",setup(o){let t=k(!0);const s=C(),h=$().path,d=r(h);function r(e){return e.split("/")[1]}s.beforeEach((e,l,y)=>{console.log("Navigating from",l.path,"to",e.path),r(e.path)==="auth"?t.value=!1:t.value=!0,y()}),x(()=>{d==="auth"&&(t.value=!1)});async function _(){try{await w.delete("/api/v1/auth/logout"),s.push("/QRlogin")}catch(e){console.log(e)}}async function m(){try{s.push("/index")}catch(e){console.log(e)}}async function v(){try{s.push("/QRlogin")}catch(e){console.log(e)}}return(e,l)=>(c(),a("div",N,[P,n("header",null,[n("a",{onClick:i(m,["prevent"])},"回首頁",8,b),E,S(t)?(c(),a("a",{key:0,onClick:i(v,["prevent"])},"登入",8,Q)):(c(),a("a",{key:1,onClick:i(_,["prevent"])}," 登出 ",8,V))]),j]))}},O=u(A,[["__scopeId","data-v-5c86e805"]]),q={},z={class:"box"},D=n("h1",null,"這裡是footer",-1),G=[D];function J(o,t){return c(),a("div",z,G)}const K=u(q,[["render",J]]),L={components:{Header:B,Footer:K}};function T(o,t,s,g,h,d){const r=O,_=I("router-view");return c(),a(M,null,[f(r),f(_)],64)}const Y=u(L,[["render",T]]);export{Y as default};
